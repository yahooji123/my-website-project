<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>üéâ Tic Tac Toe Game üéâ</title>
  <style>
    /* Reset and base styling */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #004d99, #1a75ff);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      color: white;
      overflow-x: hidden;
      position: relative;
      padding: 20px;
    }

    /* Animated background with floating shapes */
    body::before {
      content: "";
      position: absolute;
      width: 300%;
      height: 300%;
      background:
        radial-gradient(circle at 20% 20%, rgba(255,255,255,0.15) 10px, transparent 15px),
        radial-gradient(circle at 70% 30%, rgba(255,255,255,0.2) 15px, transparent 20px),
        radial-gradient(circle at 40% 80%, rgba(255,255,255,0.1) 12px, transparent 17px),
        linear-gradient(45deg, rgba(0,204,255,0.05) 0%, transparent 100%);
      background-repeat: repeat;
      animation: bubbles 120s linear infinite;
      top: -100%;
      left: -100%;
      z-index: 0;
      opacity: 0.8;
    }

    @keyframes bubbles {
      0% {
        transform: translate(0, 0) rotate(0deg);
      }
      50% {
        transform: translate(50px, 100px) rotate(180deg);
      }
      100% {
        transform: translate(0, 0) rotate(360deg);
      }
    }

    /* Glowing title */
    h1 {
      font-size: clamp(2rem, 6vw, 3.5rem);
      margin-bottom: 15px;
      text-shadow: 0 0 15px #00ccff, 0 0 30px rgba(0, 204, 255, 0.5);
      z-index: 1;
      background: linear-gradient(to right, #00e5ff, #ffffff);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      font-weight: 800;
      letter-spacing: 1px;
      position: relative;
      animation: glow 2s ease-in-out infinite alternate;
      text-align: center;
      padding: 0 10px;
    }

    @keyframes glow {
      from {
        text-shadow: 0 0 10px #00ccff, 0 0 20px rgba(0, 204, 255, 0.5);
      }
      to {
        text-shadow: 0 0 20px #00ccff, 0 0 40px rgba(0, 204, 255, 0.7), 0 0 60px rgba(0, 204, 255, 0.3);
      }
    }

    /* Game mode selector */
    .mode-selector {
      display: flex;
      gap: 15px;
      margin-bottom: 15px;
      z-index: 1;
      width: 100%;
      max-width: 350px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .mode-btn {
      padding: 10px 20px;
      background: rgba(0, 0, 0, 0.3);
      border: 2px solid #00ccff;
      border-radius: 30px;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
      font-size: clamp(0.9rem, 3vw, 1rem);
      min-width: 120px;
    }

    .mode-btn:hover {
      background: rgba(0, 204, 255, 0.3);
      transform: scale(1.05);
    }

    .mode-btn.active {
      background: #00ccff;
      color: #004d99;
      box-shadow: 0 0 15px #00ccff;
    }

    /* Message container for winner/draw message */
    .msg-container {
      background: rgba(0, 0, 50, 0.9);
      padding: 20px;
      border-radius: 20px;
      margin-bottom: 20px;
      box-shadow: 0 0 30px #00ccff, inset 0 0 10px rgba(0, 204, 255, 0.5);
      text-align: center;
      font-size: clamp(1.2rem, 4vw, 2rem);
      width: 100%;
      max-width: 350px;
      display: none;
      z-index: 1;
      backdrop-filter: blur(5px);
      border: 1px solid rgba(0, 204, 255, 0.3);
      transform: scale(0.9);
      opacity: 0;
      transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    .msg-container.show {
      display: block;
      transform: scale(1);
      opacity: 1;
    }

    /* Container for game board */
    .container {
      z-index: 1;
      width: 100%;
      max-width: 350px;
      perspective: 1000px;
      margin: 0 auto;
    }

    .game {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      transform-style: preserve-3d;
      margin-bottom: 15px;
    }

    /* Each box of Tic Tac Toe */
    .box {
      width: 100%;
      aspect-ratio: 1/1;
      font-size: clamp(3rem, 12vw, 5rem);
      color: #00e5ff;
      background: rgba(0, 51, 102, 0.7);
      border: 3px solid #00ccff;
      border-radius: 15px;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
      display: flex;
      align-items: center;
      justify-content: center;
      user-select: none;
      font-weight: 900;
      text-shadow: 0 0 10px #00e5ff;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      position: relative;
      overflow: hidden;
      min-height: 60px;
    }

    /* Hover effect on boxes */
    .box:hover:not(:disabled) {
      background: rgba(0, 204, 255, 0.3);
      transform: translateY(-5px) scale(1.05);
      box-shadow: 0 10px 20px rgba(0, 204, 255, 0.4);
    }

    /* X and O symbols styling */
    .box[data-value="X"] {
      color: #ff4d4d;
      text-shadow: 0 0 15px #ff6666;
    }

    .box[data-value="O"] {
      color: #4dff4d;
      text-shadow: 0 0 15px #66ff66;
    }

    /* Disabled boxes look */
    .box:disabled {
      cursor: not-allowed;
      opacity: 0.9;
      background: rgba(0, 102, 204, 0.5);
      box-shadow: 0 0 15px rgba(0, 204, 255, 0.3);
      transform: none;
    }

    /* Buttons styling */
    #reset, #new-btn, #change-mode {
      margin-top: 15px;
      padding: 12px 20px;
      font-size: clamp(1rem, 3.5vw, 1.2rem);
      background: linear-gradient(135deg, #00ccff, #0066ff);
      border: none;
      border-radius: 25px;
      color: white;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 5px 20px rgba(0, 204, 255, 0.5), inset 0 1px 1px rgba(255, 255, 255, 0.2);
      transition: all 0.3s ease;
      width: 100%;
      max-width: 350px;
      z-index: 1;
      position: relative;
      overflow: hidden;
    }

    #reset::before, #new-btn::before, #change-mode::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(rgba(255,255,255,0.1), transparent);
      transform: rotate(45deg);
      transition: all 0.5s ease;
    }

    #reset:hover, #new-btn:hover, #change-mode:hover {
      background: linear-gradient(135deg, #0099cc, #0044ff);
      transform: translateY(-3px) scale(1.02);
      box-shadow: 0 8px 25px rgba(0, 204, 255, 0.7);
    }

    #reset:hover::before, #new-btn:hover::before, #change-mode:hover::before {
      left: 100%;
    }

    /* Turn indicator */
    .turn-indicator {
      margin-bottom: 15px;
      font-size: clamp(1rem, 3.5vw, 1.5rem);
      text-shadow: 0 0 10px rgba(0, 204, 255, 0.7);
      z-index: 1;
      background: rgba(0, 0, 0, 0.2);
      padding: 10px 15px;
      border-radius: 50px;
      display: flex;
      align-items: center;
      gap: 8px;
      width: 100%;
      max-width: 350px;
      justify-content: center;
    }

    .turn-indicator span {
      font-weight: bold;
      color: #00ffaa;
      min-width: 30px;
      text-align: center;
    }

    /* Score board */
    .score-board {
      display: flex;
      justify-content: space-between;
      width: 100%;
      max-width: 350px;
      margin-bottom: 15px;
      background: rgba(0, 0, 0, 0.2);
      padding: 12px;
      border-radius: 15px;
      box-shadow: 0 0 15px rgba(0, 204, 255, 0.3);
      z-index: 1;
      gap: 5px;
    }

    .score {
      text-align: center;
      flex: 1;
      min-width: 0;
    }

    .score h3 {
      margin-bottom: 5px;
      font-size: clamp(0.8rem, 3vw, 1.2rem);
      color: #00ccff;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .score p {
      font-size: clamp(1rem, 4vw, 1.5rem);
      font-weight: bold;
    }

    /* Confetti effect */
    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      background-color: #f00;
      opacity: 0;
      z-index: 10;
      animation: confetti 5s ease-in-out;
    }

    @keyframes confetti {
      0% {
        transform: translateY(0) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translateY(1000px) rotate(720deg);
        opacity: 0;
      }
    }

    /* Button container in message */
    .button-container {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 15px;
    }

    /* Responsive design */
    @media (max-width: 768px) {
      body {
        padding: 15px;
        justify-content: flex-start;
      }
      
      h1 {
        margin-top: 20px;
        margin-bottom: 10px;
      }
      
      .game {
        gap: 8px;
      }
      
      .box {
        border-radius: 12px;
        min-height: 50px;
      }
      
      .msg-container {
        padding: 15px;
      }
      
      .score-board {
        padding: 10px;
      }
    }

    @media (max-width: 480px) {
      body {
        padding: 10px;
      }
      
      .mode-selector {
        gap: 10px;
      }
      
      .mode-btn {
        padding: 8px 15px;
        min-width: 100px;
      }
      
      .box {
        border-width: 2px;
      }
      
      .turn-indicator {
        padding: 8px 12px;
      }
      
      #reset, #new-btn, #change-mode {
        padding: 10px 15px;
      }
    }

    /* Very small devices (e.g., iPhone 5/SE) */
    @media (max-width: 320px) {
      .box {
        min-height: 40px;
      }
      
      .score h3 {
        font-size: 0.7rem;
      }
      
      .score p {
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <h1>üéÆ Tic Tac Toe ‚ùå‚≠ï</h1>

  <!-- Game Mode Selector -->
  <div class="mode-selector">
    <button class="mode-btn active" id="two-player">2 Players</button>
    <button class="mode-btn" id="vs-computer">VS Computer</button>
  </div>

  <!-- Score Board -->
  <div class="score-board">
    <div class="score">
      <h3>Player X</h3>
      <p id="x-score">0</p>
    </div>
    <div class="score">
      <h3>Draws</h3>
      <p id="draw-score">0</p>
    </div>
    <div class="score">
      <h3>Player O</h3>
      <p id="o-score">0</p>
    </div>
  </div>

  <!-- Turn Indicator -->
  <div class="turn-indicator">
    Current Turn: <span id="current-turn">X</span>
  </div>

  <!-- Winner Message Container -->
  <div class="msg-container" id="msg-container">
    <p id="msg">Winner</p>
    <div class="button-container">
      <button id="new-btn">New Game</button>
      <button id="change-mode">Change Mode</button>
    </div>
  </div>

  <!-- Game Board -->
  <div class="container">
    <div class="game">
      <!-- 9 buttons for 9 cells -->
      <button class="box" data-index="0"></button>
      <button class="box" data-index="1"></button>
      <button class="box" data-index="2"></button>
      <button class="box" data-index="3"></button>
      <button class="box" data-index="4"></button>
      <button class="box" data-index="5"></button>
      <button class="box" data-index="6"></button>
      <button class="box" data-index="7"></button>
      <button class="box" data-index="8"></button>
    </div>
  </div>

  <button id="reset">Reset Game</button>

  <script>
    // 1. DOM elements ko select karna (‡§∏‡§≠‡•Ä ‡§ú‡§∞‡•Ç‡§∞‡•Ä HTML elements ‡§ï‡•ã ‡§ö‡•Å‡§®‡§®‡§æ)
    const boxes = document.querySelectorAll(".box");
    const resetBtn = document.getElementById("reset");
    const newGameBtn = document.getElementById("new-btn");
    const changeModeBtn = document.getElementById("change-mode");
    const msgContainer = document.getElementById("msg-container");
    const msg = document.getElementById("msg");
    const turnIndicator = document.getElementById("current-turn");
    const xScoreElement = document.getElementById("x-score");
    const oScoreElement = document.getElementById("o-score");
    const drawScoreElement = document.getElementById("draw-score");
    const twoPlayerBtn = document.getElementById("two-player");
    const vsComputerBtn = document.getElementById("vs-computer");

    // 2. Game variables initialize karna (‡§ñ‡•á‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ú‡§∞‡•Ç‡§∞‡•Ä ‡§µ‡•á‡§∞‡§ø‡§è‡§¨‡§≤‡•ç‡§∏ ‡§∏‡•á‡§ü ‡§ï‡§∞‡§®‡§æ)
    let turnO = true; // true = O ‡§ï‡•Ä ‡§¨‡§æ‡§∞‡•Ä, false = X ‡§ï‡•Ä ‡§¨‡§æ‡§∞‡•Ä
    let count = 0;    // ‡§ï‡•Å‡§≤ ‡§ö‡§≤‡•á ‡§ó‡§è moves ‡§ï‡•Ä ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ
    let xScore = 0;   // X ‡§ï‡•á ‡§ú‡•Ä‡§§‡§®‡•á ‡§ï‡•Ä ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ
    let oScore = 0;   // O ‡§ï‡•á ‡§ú‡•Ä‡§§‡§®‡•á ‡§ï‡•Ä ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ
    let drawScore = 0; // ‡§°‡•ç‡§∞‡•â ‡§π‡•ã‡§®‡•á ‡§ï‡•Ä ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ
    let gameActive = true; // ‡§ï‡•ç‡§Ø‡§æ ‡§ó‡•á‡§≤ ‡§ö‡§≤ ‡§∞‡§π‡§æ ‡§π‡•à?
    let vsComputer = false; // ‡§ï‡•ç‡§Ø‡§æ ‡§ï‡§Ç‡§™‡•ç‡§Ø‡•Ç‡§ü‡§∞ ‡§ï‡•á ‡§ñ‡§ø‡§≤‡§æ‡§´ ‡§ñ‡•á‡§≤ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç?
    let computerTurn = false; // ‡§ï‡•ç‡§Ø‡§æ ‡§ï‡§Ç‡§™‡•ç‡§Ø‡•Ç‡§ü‡§∞ ‡§ï‡•Ä ‡§¨‡§æ‡§∞‡•Ä ‡§π‡•à?

    // 3. Winning patterns (‡§ú‡•Ä‡§§‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ú‡§∞‡•Ç‡§∞‡•Ä ‡§™‡•à‡§ü‡§∞‡•ç‡§®)
    const winPatterns = [
      [0,1,2], // ‡§™‡§π‡§≤‡•Ä ‡§™‡§Ç‡§ï‡•ç‡§§‡§ø
      [3,4,5], // ‡§¶‡•Ç‡§∏‡§∞‡•Ä ‡§™‡§Ç‡§ï‡•ç‡§§‡§ø
      [6,7,8], // ‡§§‡•Ä‡§∏‡§∞‡•Ä ‡§™‡§Ç‡§ï‡•ç‡§§‡§ø
      [0,3,6], // ‡§™‡§π‡§≤‡§æ ‡§ï‡•â‡§≤‡§Æ
      [1,4,7], // ‡§¶‡•Ç‡§∏‡§∞‡§æ ‡§ï‡•â‡§≤‡§Æ
      [2,5,8], // ‡§§‡•Ä‡§∏‡§∞‡§æ ‡§ï‡•â‡§≤‡§Æ
      [0,4,8], // ‡§¨‡§æ‡§Ø‡§æ‡§Ç ‡§∏‡•á ‡§¶‡§æ‡§Ø‡§æ‡§Ç ‡§°‡§æ‡§Ø‡§ó‡•ã‡§®‡§≤
      [2,4,6], // ‡§¶‡§æ‡§Ø‡§æ‡§Ç ‡§∏‡•á ‡§¨‡§æ‡§Ø‡§æ‡§Ç ‡§°‡§æ‡§Ø‡§ó‡•ã‡§®‡§≤
    ];

    // 4. Game mode selectors (‡§ó‡•á‡§Æ ‡§Æ‡•ã‡§° ‡§∏‡•á‡§≤‡•á‡§ï‡•ç‡§ü‡§∞)
    twoPlayerBtn.addEventListener("click", () => {
      if (!vsComputer) return;
      vsComputer = false;
      twoPlayerBtn.classList.add("active");
      vsComputerBtn.classList.remove("active");
      resetGame();
    });

    vsComputerBtn.addEventListener("click", () => {
      if (vsComputer) return;
      vsComputer = true;
      vsComputerBtn.classList.add("active");
      twoPlayerBtn.classList.remove("active");
      resetGame();
    });

    // 5. Game reset function (‡§ó‡•á‡§Æ ‡§ï‡•ã ‡§∞‡•Ä‡§∏‡•á‡§ü ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®)
    function resetGame() {
      turnO = true; // O ‡§ï‡•Ä ‡§¨‡§æ‡§∞‡•Ä ‡§∏‡•á ‡§∂‡•Å‡§∞‡•Ç
      count = 0;    // move count 0 ‡§™‡§∞ ‡§∏‡•á‡§ü
      gameActive = true; // ‡§ó‡•á‡§Æ ‡§è‡§ï‡•ç‡§ü‡§ø‡§µ
      computerTurn = false; // ‡§ï‡§Ç‡§™‡•ç‡§Ø‡•Ç‡§ü‡§∞ ‡§ï‡•Ä ‡§¨‡§æ‡§∞‡•Ä ‡§®‡§π‡•Ä‡§Ç
      updateTurnIndicator(); // ‡§ü‡§∞‡•ç‡§® ‡§á‡§Ç‡§°‡§ø‡§ï‡•á‡§ü‡§∞ ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡•ã
      
      // ‡§∏‡§≠‡•Ä ‡§¨‡•â‡§ï‡•ç‡§∏‡•á‡§∏ ‡§ï‡•ã ‡§∞‡•Ä‡§∏‡•á‡§ü ‡§ï‡§∞‡•ã
      boxes.forEach(box => {
        box.disabled = false; // ‡§∏‡§≠‡•Ä ‡§¨‡•â‡§ï‡•ç‡§∏ ‡§ï‡•ã ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§®‡•á ‡§Ø‡•ã‡§ó‡•ç‡§Ø ‡§¨‡§®‡§æ‡§ì
        box.textContent = ""; // ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§ï‡•ç‡§≤‡§ø‡§Ø‡§∞ ‡§ï‡§∞‡•ã
        box.removeAttribute("data-value"); // ‡§°‡•á‡§ü‡§æ ‡§µ‡•à‡§≤‡•ç‡§Ø‡•Ç ‡§Ö‡§ü‡•ç‡§∞‡§ø‡§¨‡•ç‡§Ø‡•Ç‡§ü ‡§π‡§ü‡§æ‡§ì
        box.style.transform = "scale(1)"; // ‡§è‡§®‡§ø‡§Æ‡•á‡§∂‡§® ‡§∞‡•Ä‡§∏‡•á‡§ü
        box.style.backgroundColor = ""; // ‡§¨‡•à‡§ï‡§ó‡•ç‡§∞‡§æ‡§â‡§Ç‡§° ‡§ï‡§≤‡§∞ ‡§∞‡•Ä‡§∏‡•á‡§ü
      });
      
      // ‡§Æ‡•à‡§∏‡•á‡§ú ‡§ï‡§Ç‡§ü‡•á‡§®‡§∞ ‡§ï‡•ã ‡§π‡§æ‡§á‡§° ‡§ï‡§∞‡•ã
      msgContainer.classList.remove("show");

      // ‡§Ö‡§ó‡§∞ ‡§ï‡§Ç‡§™‡•ç‡§Ø‡•Ç‡§ü‡§∞ ‡§Æ‡•ã‡§° ‡§Æ‡•á‡§Ç ‡§π‡•à ‡§î‡§∞ ‡§ï‡§Ç‡§™‡•ç‡§Ø‡•Ç‡§ü‡§∞ ‡§™‡§π‡§≤‡•á ‡§ñ‡•á‡§≤ ‡§∞‡§π‡§æ ‡§π‡•à
      if (vsComputer && !turnO) {
        computerTurn = true;
        setTimeout(computerMove, 500); // ‡§ï‡§Ç‡§™‡•ç‡§Ø‡•Ç‡§ü‡§∞ ‡§ï‡•ã ‡§ö‡§æ‡§≤ ‡§ö‡§≤‡§®‡•á ‡§¶‡•ã
      }
    }

    // 6. Box click event handler (‡§¨‡•â‡§ï‡•ç‡§∏ ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§á‡§µ‡•á‡§Ç‡§ü ‡§π‡•à‡§Ç‡§°‡§≤‡§∞)
    boxes.forEach((box) => {
      box.addEventListener("click", () => {
        // ‡§Ö‡§ó‡§∞ ‡§ó‡•á‡§Æ ‡§è‡§ï‡•ç‡§ü‡§ø‡§µ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à, ‡§¨‡•â‡§ï‡•ç‡§∏ ‡§™‡§π‡§≤‡•á ‡§∏‡•á ‡§≠‡§∞‡§æ ‡§π‡•Å‡§Ü ‡§π‡•à, ‡§Ø‡§æ ‡§ï‡§Ç‡§™‡•ç‡§Ø‡•Ç‡§ü‡§∞ ‡§ï‡•Ä ‡§¨‡§æ‡§∞‡•Ä ‡§π‡•à ‡§§‡•ã ‡§∞‡§ø‡§ü‡§∞‡•ç‡§®
        if (!gameActive || box.textContent !== "" || (vsComputer && computerTurn)) return;

        // current player ‡§ï‡§æ ‡§∏‡§ø‡§Ç‡§¨‡§≤ ‡§∏‡•á‡§ü ‡§ï‡§∞‡•ã
        const currentPlayer = turnO ? "O" : "X";
        makeMove(box, currentPlayer);

        // ‡§ú‡•Ä‡§§‡§®‡•á ‡§ï‡•Ä ‡§ú‡§æ‡§Ç‡§ö ‡§ï‡§∞‡•ã
        if (checkWinner(currentPlayer)) {
          gameActive = false; // ‡§ó‡•á‡§Æ ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã
          showWinner(currentPlayer); // ‡§µ‡§ø‡§ú‡•á‡§§‡§æ ‡§¶‡§ø‡§ñ‡§æ‡§ì
          updateScore(currentPlayer); // ‡§∏‡•ç‡§ï‡•ã‡§∞ ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡•ã
          createConfetti(); // ‡§ï‡§®‡•ç‡§´‡•á‡§ü‡•Ä ‡§è‡§´‡•á‡§ï‡•ç‡§ü
          return;
        }

        // ‡§Ö‡§ó‡§∞ ‡§∏‡§≠‡•Ä ‡§¨‡•â‡§ï‡•ç‡§∏ ‡§≠‡§∞ ‡§ó‡§è ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§ï‡•ã‡§à ‡§µ‡§ø‡§ú‡•á‡§§‡§æ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à
        if (count === 9) {
          gameActive = false;
          showDraw(); // ‡§°‡•ç‡§∞‡•â ‡§ï‡§æ ‡§Æ‡•à‡§∏‡•á‡§ú ‡§¶‡§ø‡§ñ‡§æ‡§ì
          drawScore++; // ‡§°‡•ç‡§∞‡•â ‡§∏‡•ç‡§ï‡•ã‡§∞ ‡§¨‡§¢‡§º‡§æ‡§ì
          drawScoreElement.textContent = drawScore;
          return;
        }

        // ‡§ü‡§∞‡•ç‡§® ‡§¨‡§¶‡§≤‡•ã
        turnO = !turnO;
        updateTurnIndicator(); // ‡§ü‡§∞‡•ç‡§® ‡§á‡§Ç‡§°‡§ø‡§ï‡•á‡§ü‡§∞ ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡•ã

        // ‡§Ö‡§ó‡§∞ ‡§ï‡§Ç‡§™‡•ç‡§Ø‡•Ç‡§ü‡§∞ ‡§Æ‡•ã‡§° ‡§Æ‡•á‡§Ç ‡§π‡•à ‡§î‡§∞ ‡§ó‡•á‡§Æ ‡§Ö‡§≠‡•Ä ‡§≠‡•Ä ‡§ö‡§≤ ‡§∞‡§π‡§æ ‡§π‡•à
        if (vsComputer && gameActive) {
          computerTurn = true;
          setTimeout(computerMove, 500); // ‡§ï‡§Ç‡§™‡•ç‡§Ø‡•Ç‡§ü‡§∞ ‡§ï‡•ã ‡§ö‡§æ‡§≤ ‡§ö‡§≤‡§®‡•á ‡§¶‡•ã
        }
      });
    });

    // 7. Make a move function (‡§ö‡§æ‡§≤ ‡§ö‡§≤‡§®‡•á ‡§ï‡§æ ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®)
    function makeMove(box, player) {
      box.textContent = player;
      box.setAttribute("data-value", player);
      box.disabled = true; // ‡§¨‡•â‡§ï‡•ç‡§∏ ‡§ï‡•ã ‡§°‡§ø‡§∏‡•á‡§¨‡§≤ ‡§ï‡§∞‡•ã
      count++; // move count ‡§¨‡§¢‡§º‡§æ‡§ì

      // ‡§¨‡•â‡§ï‡•ç‡§∏ ‡§™‡§∞ ‡§è‡§®‡§ø‡§Æ‡•á‡§∂‡§® ‡§è‡§´‡•á‡§ï‡•ç‡§ü
      box.style.transform = "scale(0.9)";
      setTimeout(() => {
        box.style.transform = "scale(1)";
      }, 100);
    }

    // 8. Computer move function (‡§ï‡§Ç‡§™‡•ç‡§Ø‡•Ç‡§ü‡§∞ ‡§ï‡•Ä ‡§ö‡§æ‡§≤)
    function computerMove() {
      if (!gameActive || !computerTurn) return;

      // ‡§∏‡§¨‡§∏‡•á ‡§™‡§π‡§≤‡•á ‡§ú‡•Ä‡§§‡§®‡•á ‡§ï‡•Ä ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞‡•ã
      let move = findWinningMove("X");
      
      // ‡§Ö‡§ó‡§∞ ‡§ú‡•Ä‡§§‡§®‡•á ‡§ï‡§æ ‡§Æ‡•å‡§ï‡§æ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à, ‡§§‡•ã ‡§¨‡•ç‡§≤‡•â‡§ï ‡§ï‡§∞‡•ã (O ‡§ï‡•ã ‡§ú‡•Ä‡§§‡§®‡•á ‡§∏‡•á ‡§∞‡•ã‡§ï‡•ã)
      if (move === -1) {
        move = findWinningMove("O");
      }
      
      // ‡§Ö‡§ó‡§∞ ‡§ï‡•ã‡§à ‡§ú‡§∞‡•Ç‡§∞‡•Ä ‡§Æ‡•Ç‡§µ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à, ‡§§‡•ã ‡§∏‡•á‡§Ç‡§ü‡§∞ ‡§≤‡•á ‡§≤‡•ã
      if (move === -1 && !boxes[4].textContent) {
        move = 4;
      }
      
      // ‡§Ö‡§ó‡§∞ ‡§∏‡•á‡§Ç‡§ü‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§≤‡•á ‡§∏‡§ï‡§§‡•á, ‡§§‡•ã ‡§ï‡•ã‡§à ‡§∞‡•à‡§Ç‡§°‡§Æ ‡§ñ‡§æ‡§≤‡•Ä ‡§ú‡§ó‡§π ‡§ö‡•Å‡§®‡•ã
      if (move === -1) {
        const emptyBoxes = Array.from(boxes).map((box, index) => 
          box.textContent === "" ? index : -1
        ).filter(index => index !== -1);
        
        if (emptyBoxes.length > 0) {
          move = emptyBoxes[Math.floor(Math.random() * emptyBoxes.length)];
        }
      }

      // ‡§Ö‡§ó‡§∞ ‡§µ‡•à‡§≤‡§ø‡§° ‡§Æ‡•Ç‡§µ ‡§Æ‡§ø‡§≤‡§æ ‡§π‡•à ‡§§‡•ã ‡§ö‡§æ‡§≤ ‡§ö‡§≤‡•ã
      if (move !== -1 && boxes[move].textContent === "") {
        makeMove(boxes[move], "X");
        
        // ‡§ú‡•Ä‡§§‡§®‡•á ‡§ï‡•Ä ‡§ú‡§æ‡§Ç‡§ö ‡§ï‡§∞‡•ã
        if (checkWinner("X")) {
          gameActive = false;
          showWinner("X");
          updateScore("X");
          createConfetti();
          computerTurn = false;
          return;
        }

        // ‡§°‡•ç‡§∞‡•â ‡§ï‡•Ä ‡§ú‡§æ‡§Ç‡§ö ‡§ï‡§∞‡•ã
        if (count === 9) {
          gameActive = false;
          showDraw();
          drawScore++;
          drawScoreElement.textContent = drawScore;
          computerTurn = false;
          return;
        }

        // ‡§ü‡§∞‡•ç‡§® ‡§¨‡§¶‡§≤‡•ã
        turnO = !turnO;
        updateTurnIndicator();
        computerTurn = false;
      }
    }

    // 9. Find winning move function (‡§ú‡•Ä‡§§‡§®‡•á ‡§µ‡§æ‡§≤‡•Ä ‡§ö‡§æ‡§≤ ‡§¢‡•Ç‡§Ç‡§¢‡•ã)
    function findWinningMove(player) {
      for (const pattern of winPatterns) {
        const [a, b, c] = pattern;
        
        // ‡§™‡§π‡§≤‡•á ‡§¶‡•ã ‡§¨‡•â‡§ï‡•ç‡§∏ player ‡§ï‡•á ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§§‡•Ä‡§∏‡§∞‡§æ ‡§ñ‡§æ‡§≤‡•Ä ‡§π‡•à
        if (boxes[a].textContent === player && 
            boxes[b].textContent === player && 
            boxes[c].textContent === "") {
          return c;
        }
        
        // ‡§™‡§π‡§≤‡§æ ‡§î‡§∞ ‡§§‡•Ä‡§∏‡§∞‡§æ ‡§¨‡•â‡§ï‡•ç‡§∏ player ‡§ï‡•á ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§¶‡•Ç‡§∏‡§∞‡§æ ‡§ñ‡§æ‡§≤‡•Ä ‡§π‡•à
        if (boxes[a].textContent === player && 
            boxes[c].textContent === player && 
            boxes[b].textContent === "") {
          return b;
        }
        
        // ‡§¶‡•Ç‡§∏‡§∞‡§æ ‡§î‡§∞ ‡§§‡•Ä‡§∏‡§∞‡§æ ‡§¨‡•â‡§ï‡•ç‡§∏ player ‡§ï‡•á ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§™‡§π‡§≤‡§æ ‡§ñ‡§æ‡§≤‡•Ä ‡§π‡•à
        if (boxes[b].textContent === player && 
            boxes[c].textContent === player && 
            boxes[a].textContent === "") {
          return a;
        }
      }
      return -1; // ‡§ï‡•ã‡§à ‡§ú‡•Ä‡§§‡§®‡•á ‡§µ‡§æ‡§≤‡•Ä ‡§ö‡§æ‡§≤ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡•Ä
    }

    // 10. Winner check function (‡§ú‡•Ä‡§§‡§®‡•á ‡§ï‡•Ä ‡§ú‡§æ‡§Ç‡§ö ‡§ï‡§æ ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®)
    function checkWinner(player) {
      return winPatterns.some(pattern => {
        const [a, b, c] = pattern;
        // ‡§ï‡•ç‡§Ø‡§æ ‡§Ø‡•á ‡§§‡•Ä‡§®‡•ã‡§Ç ‡§¨‡•â‡§ï‡•ç‡§∏ current player ‡§ï‡•á ‡§∏‡§ø‡§Ç‡§¨‡§≤ ‡§∏‡•á ‡§≠‡§∞‡•á ‡§π‡•à‡§Ç
        const isWinner = boxes[a].textContent === player && 
                         boxes[b].textContent === player && 
                         boxes[c].textContent === player;
        
        // ‡§Ö‡§ó‡§∞ ‡§ú‡•Ä‡§§ ‡§ó‡§è ‡§§‡•ã ‡§µ‡§ø‡§ú‡•á‡§§‡§æ ‡§¨‡•â‡§ï‡•ç‡§∏ ‡§ï‡•ã ‡§π‡§æ‡§á‡§≤‡§æ‡§á‡§ü ‡§ï‡§∞‡•ã
        if (isWinner) {
          [a, b, c].forEach(index => {
            boxes[index].style.backgroundColor = player === "X" ? 
              "rgba(255, 77, 77, 0.3)" : "rgba(77, 255, 77, 0.3)";
          });
        }
        
        return isWinner;
      });
    }

    // 11. Show winner function (‡§µ‡§ø‡§ú‡•á‡§§‡§æ ‡§¶‡§ø‡§ñ‡§æ‡§®‡•á ‡§ï‡§æ ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®)
    function showWinner(winner) {
      const winnerName = vsComputer && winner === "X" ? "Computer" : winner;
      msg.textContent = `üéâ ‡§¨‡§ß‡§æ‡§à ‡§π‡•ã! ${winnerName} ‡§ú‡•Ä‡§§ ‡§ó‡§Ø‡§æ! üéâ`;
      msgContainer.classList.add("show");
      disableBoxes(); // ‡§∏‡§≠‡•Ä ‡§¨‡•â‡§ï‡•ç‡§∏ ‡§ï‡•ã ‡§°‡§ø‡§∏‡•á‡§¨‡§≤ ‡§ï‡§∞‡•ã
    }

    // 12. Show draw function (‡§°‡•ç‡§∞‡•â ‡§¶‡§ø‡§ñ‡§æ‡§®‡•á ‡§ï‡§æ ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®)
    function showDraw() {
      msg.textContent = "ü§ù ‡§ñ‡•á‡§≤ ‡§°‡•ç‡§∞‡•â ‡§π‡•ã ‡§ó‡§Ø‡§æ! ü§ù";
      msgContainer.classList.add("show");
      disableBoxes();
    }

    // 13. Disable all boxes function (‡§∏‡§≠‡•Ä ‡§¨‡•â‡§ï‡•ç‡§∏ ‡§ï‡•ã ‡§°‡§ø‡§∏‡•á‡§¨‡§≤ ‡§ï‡§∞‡•ã)
    function disableBoxes() {
      boxes.forEach(box => box.disabled = true);
    }

    // 14. Update score function (‡§∏‡•ç‡§ï‡•ã‡§∞ ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡•ã)
    function updateScore(winner) {
      if (winner === "X") {
        xScore++;
        xScoreElement.textContent = xScore;
      } else {
        oScore++;
        oScoreElement.textContent = oScore;
      }
    }

    // 15. Update turn indicator (‡§ï‡§ø‡§∏‡§ï‡§æ ‡§ü‡§∞‡•ç‡§® ‡§π‡•à ‡§Ø‡§π ‡§¶‡§ø‡§ñ‡§æ‡§ì)
    function updateTurnIndicator() {
      if (vsComputer && !turnO) {
        turnIndicator.textContent = "Computer";
        turnIndicator.style.color = "#ff4d4d";
        turnIndicator.style.textShadow = "0 0 10px #ff6666";
      } else {
        turnIndicator.textContent = turnO ? "O" : "X";
        turnIndicator.style.color = turnO ? "#4dff4d" : "#ff4d4d";
        turnIndicator.style.textShadow = turnO ? "0 0 10px #66ff66" : "0 0 10px #ff6666";
      }
    }

    // 16. Create confetti effect (‡§ï‡§®‡•ç‡§´‡•á‡§ü‡•Ä ‡§è‡§´‡•á‡§ï‡•ç‡§ü ‡§¨‡§®‡§æ‡§ì)
    function createConfetti() {
      const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff'];
      const container = document.body;
      
      for (let i = 0; i < 100; i++) {
        const confetti = document.createElement("div");
        confetti.className = "confetti";
        confetti.style.left = Math.random() * 100 + "vw";
        confetti.style.top = -10 + "px";
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.width = Math.random() * 10 + 5 + "px";
        confetti.style.height = Math.random() * 10 + 5 + "px";
        confetti.style.animationDuration = Math.random() * 3 + 2 + "s";
        container.appendChild(confetti);
        
        // ‡§ï‡§®‡•ç‡§´‡•á‡§ü‡•Ä ‡§ï‡•ã ‡§ë‡§ü‡•ã‡§Æ‡•á‡§ü‡§ø‡§ï ‡§π‡§ü‡§æ‡§ì
        setTimeout(() => {
          confetti.remove();
        }, 5000);
      }
    }

    // 17. New Game ‡§î‡§∞ Reset buttons ‡§ï‡•á ‡§≤‡§ø‡§è ‡§á‡§µ‡•á‡§Ç‡§ü ‡§≤‡§ø‡§∏‡•ç‡§®‡§∞‡•ç‡§∏
    newGameBtn.addEventListener("click", resetGame);
    changeModeBtn.addEventListener("click", () => {
      vsComputer = !vsComputer;
      if (vsComputer) {
        vsComputerBtn.classList.add("active");
        twoPlayerBtn.classList.remove("active");
      } else {
        twoPlayerBtn.classList.add("active");
        vsComputerBtn.classList.remove("active");
      }
      resetGame();
    });

    resetBtn.addEventListener("click", () => {
      // ‡§∏‡•ç‡§ï‡•ã‡§∞ ‡§≠‡•Ä ‡§∞‡•Ä‡§∏‡•á‡§ü ‡§ï‡§∞‡•ã
      xScore = 0;
      oScore = 0;
      drawScore = 0;
      xScoreElement.textContent = "0";
      oScoreElement.textContent = "0";
      drawScoreElement.textContent = "0";
      resetGame();
    });

    // ‡§™‡§π‡§≤‡•Ä ‡§¨‡§æ‡§∞ ‡§ü‡§∞‡•ç‡§® ‡§á‡§Ç‡§°‡§ø‡§ï‡•á‡§ü‡§∞ ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡•ã
    updateTurnIndicator();
  </script>
</body>
</html>













